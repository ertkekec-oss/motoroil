model Product {
  id                  String                  @id @default(cuid())
  name                String
  code                String
  barcode             String?
  price               Decimal                 @db.Decimal(10, 2)
  buyPrice            Decimal                 @default(0) @db.Decimal(10, 2)
  stock               Int                     @default(0)
  category            String?
  description         String?
  imageUrl            String?
  minStock            Int                     @default(5)
  brand               String?
  type                String?                 @default("Ürün")
  branch              String?                 @default("Merkez")
  salesVat            Int?                    @default(20)
  salesVatIncluded    Boolean?                @default(true)
  purchaseVat         Int?                    @default(20)
  purchaseVatIncluded Boolean?                @default(true)
  salesOiv            Decimal?                @default(0) @db.Decimal(10, 2)
  salesOtv            Decimal?                @default(0) @db.Decimal(10, 2)
  otvType             String?                 @default("Ö.T.V yok")
  gtip                String?
  purchaseDiscount    Decimal?                @default(0) @db.Decimal(5, 2)
  otvCode             String?                 @default("7")
  deletedAt           DateTime?
  createdAt           DateTime                @default(now())
  updatedAt           DateTime                @updatedAt
  companyId           String
  currency            String                  @default("TRY")
  isParent            Boolean                 @default(false)
  parentId            String?
  purchaseCurrency    String                  @default("TRY")
  supplierName        String?
  unit                String?                 @default("Adet")
  marketplaceMaps     MarketplaceProductMap[]
  marketplacePnls     MarketplaceProductPnl[]
  company             Company                 @relation(fields: [companyId], references: [id], onDelete: Cascade)
  parent              Product?                @relation("ProductVariants", fields: [parentId], references: [id])
  variants            Product[]               @relation("ProductVariants")
  productPrices       ProductPrice[]
  variantValues       ProductVariantValue[]
  salesOrderItems     SalesOrderItem[]
  pricingRules        SmartPricingRule[]
  stocks              Stock[]
  movements           StockMovement[]

  @@unique([code, branch, companyId])
  @@index([name])
  @@index([barcode])
  @@index([code])
  @@index([category])
  @@index([parentId])
  @@index([companyId])
  @@index([companyId, deletedAt, category])
  @@index([companyId, isParent, deletedAt])
}